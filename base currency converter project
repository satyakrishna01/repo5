import requests

def convert_currency(base_currency: str, target_currency: str, amount: float) -> float:
    """
    Convert `amount` from base_currency to target_currency using real-time rates.
    """
    # Fetch latest exchange rates from a free API
    url = f"https://api.exchangerate-api.com/v4/latest/{base_currency.upper()}"
    response = requests.get(url, timeout=10)

    if response.status_code != 200:
        raise RuntimeError("Could not fetch exchange rates. Check your internet connection or currency code.")

    data = response.json()
    rates = data.get("rates", {})

    if target_currency.upper() not in rates:
        raise ValueError(f"Invalid target currency: {target_currency}")

    return amount * rates[target_currency.upper()]

if __name__ == "__main__":
    base = input("Enter base currency (e.g. USD): ").strip().upper()
    target = input("Enter target currency (e.g. INR): ").strip().upper()
    amt = float(input("Enter amount to convert: "))

    try:
        result = convert_currency(base, target, amt)
        print(f"\n{amt:.2f} {base} = {result:.2f} {target}")
    except Exception as e:
        print("Error:", e)
